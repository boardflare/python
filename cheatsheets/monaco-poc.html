<!DOCTYPE html>
<html>

<head>
    <title>Python Editor</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.52.0/min/vs/loader.min.js"></script>
    <style>
        #editor {
            width: 800px;
            height: 400px;
            border: 1px solid #ccc;
            margin: 20px;
        }

        #save {
            margin: 20px;
            padding: 8px 16px;
            font-size: 14px;
        }

        #status {
            margin: 20px;
            color: green;
            display: none;
        }
    </style>
</head>

<body>
    <div id="editor"></div>
    <button id="save">Save Code</button>
    <div id="status">Code saved!</div>

    <script>
        require.config({ paths: { vs: 'https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.52.0/min/vs' } });

        require(['vs/editor/editor.main'], function () {
            let editor;
            const defaultCode = [
                '# Python Example',
                'def fibonacci(n):',
                '    if n <= 1:',
                '        return n',
                '    return fibonacci(n-1) + fibonacci(n-2)',
                '',
                'print(fibonacci(10))'
            ].join('\n');

            // Load saved code or use default
            const savedCode = localStorage.getItem('editorCode') || defaultCode;

            editor = monaco.editor.create(document.getElementById('editor'), {
                value: savedCode,
                language: 'python',
                theme: 'vs-dark',
                minimap: { enabled: false }
            });

            document.getElementById('save').onclick = function () {
                const code = editor.getValue();
                localStorage.setItem('editorCode', code);

                // Show save status
                const status = document.getElementById('status');
                status.style.display = 'block';
                setTimeout(() => {
                    status.style.display = 'none';
                }, 2000);
            }
        });
    </script>
</body>

</html>